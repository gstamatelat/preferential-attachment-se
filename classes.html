<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Auxiliary functions" href="functions.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.03.04"/>
        <title>Auxiliary classes - se 1.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=935aa2abcc5c1da4283d1dc201fb1f0add16d23a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=25ceb02ed1c46dc30f2321ff83e92799f69dfdb9" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">se 1.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Auxiliary functions</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Auxiliary classes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gstamatelat/se">Github</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="auxiliary-classes">
<h1>Auxiliary classes<a class="headerlink" href="#auxiliary-classes" title="Permalink to this headline">#</a></h1>
<p>List of auxiliary classes with public API that are related to the problem of random sampling.</p>
<section id="randomsystematicpartitioning">
<h2>RandomSystematicPartitioning<a class="headerlink" href="#randomsystematicpartitioning" title="Permalink to this headline">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">se.</span></span><span class="sig-name descname"><span class="pre">RandomSystematicPartitioning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/random.html#random.Random" title="(in Python v3.10)"><span class="pre">random.Random</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#se.RandomSystematicPartitioning" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Implementation of the random systematic partitioning scheme and the random systematic sampling algorithm.</p>
<p>Random systematic partitioning (RSP) randomly partitions the input collection into groups of <span class="math notranslate nohighlight">\(k\)</span> elements such
that each group contains only unique elements. The number of groups itself is implicitly defined by the ratio of the
sum of frequencies over <span class="math notranslate nohighlight">\(k\)</span>. If the elements cannot be partitioned in such a way, then <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> is
raised from the <a class="reference internal" href="#se.RandomSystematicPartitioning.partition" title="se.RandomSystematicPartitioning.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a> method.</p>
<p>The algorithm implemented in this class is heavily influenced by the random systematic sampling (RSS) design.
Because of the close association between the two schemes, this class also implements the RSS design via the
<a class="reference internal" href="#se.RandomSystematicPartitioning.sample" title="se.RandomSystematicPartitioning.sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample()</span></code></a> method.</p>
<p>The interface allows you to add elements into the RSP using the methods
<a class="reference internal" href="#se.RandomSystematicPartitioning.add_item" title="se.RandomSystematicPartitioning.add_item"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_item()</span></code></a> and <a class="reference internal" href="#se.RandomSystematicPartitioning.add_items" title="se.RandomSystematicPartitioning.add_items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_items()</span></code></a> and then it
is possible to use the method <a class="reference internal" href="#se.RandomSystematicPartitioning.partition" title="se.RandomSystematicPartitioning.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a> to do the actual partitioning. By
itself the <a class="reference internal" href="#se.RandomSystematicPartitioning.partition" title="se.RandomSystematicPartitioning.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a> does not change the state of the instance.</p>
<p>Below is a typical use case that will partition 2 copies of the element <cite>a</cite> and the elements <cite>b</cite> and <cite>c</cite> into groups
of 2.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rsp</span> <span class="o">=</span> <span class="n">RandomSystematicPartitioning</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">())</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'c'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rsp</span><span class="o">.</span><span class="n">partition</span><span class="p">())</span>
</pre></div>
</div>
<p>Because the element <cite>a</cite> exists twice in the input collection, the only possible partitioning is the two groups
(<cite>a</cite>, <cite>b</cite>) and (<cite>a</cite>, <cite>c</cite>). The actual order of the groups returned is not important as the elements are randomly
shuffled anyway. In fact, the probability of receiving any of the two partitions is 50%. Keep in mind that the
<a class="reference internal" href="#se.RandomSystematicPartitioning.partition" title="se.RandomSystematicPartitioning.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a> method is deterministic and will return the same result on
consecutive calls. The actual randomization (or shuffling) is performed online as elements enter the instance.
Statistically independent partitions (even of the same input data) must rely on different instances of this class or
the use of the <a class="reference internal" href="#se.RandomSystematicPartitioning.reshuffle" title="se.RandomSystematicPartitioning.reshuffle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reshuffle()</span></code></a> method, and not different invocations of the
<a class="reference internal" href="#se.RandomSystematicPartitioning.partition" title="se.RandomSystematicPartitioning.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a> method.</p>
<p>Similarly, the implementation of the RSS design can be seen in the following example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rsp</span> <span class="o">=</span> <span class="n">RandomSystematicPartitioning</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">())</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'c'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rsp</span><span class="o">.</span><span class="n">sample</span><span class="p">())</span>
</pre></div>
</div>
<p>The fragment results in a sample of 2 discrete elements from the population <cite>{a, b, c}</cite> with the specified weights /
frequencies. The probability of receiving the sample (<cite>a</cite>, <cite>b</cite>) is 50% and the probability of the sample (<cite>a</cite>, <cite>c</cite>)
is also 50%. Calling the <a class="reference internal" href="#se.RandomSystematicPartitioning.sample" title="se.RandomSystematicPartitioning.sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample()</span></code></a> method consecutively can result in
different samples but there is no intermediate reshuffling of the elements involved unless the
<a class="reference internal" href="#se.RandomSystematicPartitioning.reshuffle" title="se.RandomSystematicPartitioning.reshuffle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reshuffle()</span></code></a> method is explicitly invoked.</p>
<p>The <a class="reference internal" href="#se.RandomSystematicPartitioning.add_items" title="se.RandomSystematicPartitioning.add_items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_items()</span></code></a> may be used to insert items into the RSP when the population
is known and exists in a concrete collection and at the same time a mapping function exists that maps the elements
with their frequencies. In a simple case where the elements along with their frequencies are stored in a dictionary
<cite>dict[object, int]</cite> a typical use case would be the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">frequencies</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="n">rsp</span> <span class="o">=</span> <span class="n">RandomSystematicPartitioning</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">())</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">frequencies</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">frequencies</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rsp</span><span class="o">.</span><span class="n">partition</span><span class="p">())</span>
</pre></div>
</div>
<p>The interface of this class also allows the use of builder-like syntax because the <cite>add_*</cite> methods return the
instance itself, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rsp</span> <span class="o">=</span> <span class="n">RandomSystematicPartitioning</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">())</span>
<span class="n">rsp</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
   <span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
   <span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">'c'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rsp</span><span class="o">.</span><span class="n">partition</span><span class="p">())</span>
</pre></div>
</div>
<p>The constructor initializes the instance with a group size <cite>k</cite> and a random number generator <cite>rng</cite>.</p>
<p>The constructor runs in constant time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The size of each group.</p></li>
<li><p><strong>rng</strong> (<em>Random</em>) – The random number generator.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <span class="math notranslate nohighlight">\(k &lt; 1\)</span>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning.add_item">
<span class="sig-name descname"><span class="pre">add_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning"><span class="pre">se.RandomSystematicPartitioning</span></a></span></span><a class="headerlink" href="#se.RandomSystematicPartitioning.add_item" title="Permalink to this definition">#</a></dt>
<dd><p>Adds an item along with its frequency into the instance.</p>
<p>If the item is already present in the instance as a result of a previous insertion, its frequency will be
increased by <cite>frequency</cite>, otherwise it will be inserted and its frequency will be set to <cite>frequency</cite>. The
elements are inserted into a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, and as a result the equality is performed using the <cite>__hash__</cite>
and <cite>__eq__</cite> combination.</p>
<p>Also see the <a class="reference internal" href="#se.RandomSystematicPartitioning.add_items" title="se.RandomSystematicPartitioning.add_items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_items()</span></code></a> and <a class="reference internal" href="#se.RandomSystematicPartitioning.add_iterator" title="se.RandomSystematicPartitioning.add_iterator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_iterator()</span></code></a> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – The item to insert.</p></li>
<li><p><strong>frequency</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The frequency of the item.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <cite>frequency &lt; 1</cite>.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The instance itself (self).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning">RandomSystematicPartitioning</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning.add_items">
<span class="sig-name descname"><span class="pre">add_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning"><span class="pre">se.RandomSystematicPartitioning</span></a></span></span><a class="headerlink" href="#se.RandomSystematicPartitioning.add_items" title="Permalink to this definition">#</a></dt>
<dd><p>Adds a collection of items along with their frequencies into the instance.</p>
<p>This method is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">mapping</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="k">return</span> <span class="bp">self</span>
</pre></div>
</div>
<p>The elements in <cite>items</cite> should be unique, otherwise non-unique values will be inserted as many times as the sum
of their frequencies. Sometimes this situation is desirable.</p>
<p>Also see the <a class="reference internal" href="#se.RandomSystematicPartitioning.add_items" title="se.RandomSystematicPartitioning.add_items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_items()</span></code></a> and <a class="reference internal" href="#se.RandomSystematicPartitioning.add_iterator" title="se.RandomSystematicPartitioning.add_iterator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_iterator()</span></code></a> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a><em>]</em>) – An iterable of the items to insert into the instance.</p></li>
<li><p><strong>mapping</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>]</em>) – A function that accepts an object and returns its frequency.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If any frequency returned by <cite>mapping</cite> is less than 1.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The instance itself (self).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning">RandomSystematicPartitioning</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning.add_iterator">
<span class="sig-name descname"><span class="pre">add_iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning"><span class="pre">se.RandomSystematicPartitioning</span></a></span></span><a class="headerlink" href="#se.RandomSystematicPartitioning.add_iterator" title="Permalink to this definition">#</a></dt>
<dd><p>Add a stream of items into the instance.</p>
<p>This method is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">return</span> <span class="bp">self</span>
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#se.RandomSystematicPartitioning.add_item" title="se.RandomSystematicPartitioning.add_item"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_item()</span></code></a> and <a class="reference internal" href="#se.RandomSystematicPartitioning.add_items" title="se.RandomSystematicPartitioning.add_items"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_items()</span></code></a> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>items</strong> (<em>Union</em><em>[</em><em>Iterator</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a><em>]</em><em>, </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a><em>]</em><em>]</em>) – An iterator of the items to insert into the instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The instance itself (self).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning">RandomSystematicPartitioning</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning.partition">
<span class="sig-name descname"><span class="pre">partition</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#se.RandomSystematicPartitioning.partition" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the partition held by this instance.</p>
<p>More formally, this method returns a list of sets of elements, where each set contains <span class="math notranslate nohighlight">\(k\)</span> unique
elements. This method will raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> if the elements inserted up until the point that this
method is called cannot be partitioned in such a way that both these conditions are met:</p>
<ol class="arabic simple">
<li><p>The sum of the frequencies of all unique elements <span class="math notranslate nohighlight">\(n\)</span> is divisible by <span class="math notranslate nohighlight">\(k\)</span>.</p></li>
<li><p>No element has frequency larger than <span class="math notranslate nohighlight">\(n/k\)</span>.</p></li>
</ol>
<p>This method is deterministic and will always return the same result when executed consecutively without any
insertion or reshuffling in-between. It always runs in time proportional to <span class="math notranslate nohighlight">\(n\)</span> regardless of the
properties of the elements inside the data structure.</p>
<p>This method returns a mutable collection that can be safely mutated without compromising the internal state of
the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If the conditions specified (the divisibility and the max frequency) are not fulfilled.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The partition held in this instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)">set</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)">object</a>]]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning.reshuffle">
<span class="sig-name descname"><span class="pre">reshuffle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning"><span class="pre">se.RandomSystematicPartitioning</span></a></span></span><a class="headerlink" href="#se.RandomSystematicPartitioning.reshuffle" title="Permalink to this definition">#</a></dt>
<dd><p>Performs a reshuffling on the distinct population items that have been inserted in the instance.</p>
<p>Calling this method is required when independence among consecutive invocations of the <a class="reference internal" href="#se.RandomSystematicPartitioning.partition" title="se.RandomSystematicPartitioning.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a> or
<a class="reference internal" href="#se.RandomSystematicPartitioning.sample" title="se.RandomSystematicPartitioning.sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample()</span></code></a> method is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The instance itself (self).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#se.RandomSystematicPartitioning" title="se.RandomSystematicPartitioning">RandomSystematicPartitioning</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="se.RandomSystematicPartitioning.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#se.RandomSystematicPartitioning.sample" title="Permalink to this definition">#</a></dt>
<dd><p>Implicit implementation of the random systematic sampling method.</p>
<p>This method should be called after the elements have been added in the instance and is equivalent to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">rsp</span><span class="o">.</span><span class="n">partition</span><span class="p">())</span>
</pre></div>
</div>
<p>but runs more efficiently than generating all the partition.</p>
<p>Consecutive invocations of this method are not necessarily independent because no shuffling of the population is
performed automatically. This behavior can be manually achieved using the <a class="reference internal" href="#se.RandomSystematicPartitioning.reshuffle" title="se.RandomSystematicPartitioning.reshuffle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reshuffle()</span></code></a> method.</p>
<p>This method returns a mutable collection that can be safely mutated without compromising the internal state of
the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A random sample of the population that previously entered the instance based on the random systematic
sampling algorithm.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)">set</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)">object</a>]</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="functions.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Auxiliary functions</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021, Giorgos Stamatelatos
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Auxiliary classes</a><ul>
<li><a class="reference internal" href="#randomsystematicpartitioning">RandomSystematicPartitioning</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </body>
</html>